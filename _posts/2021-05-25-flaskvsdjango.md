---
layout: post
title: "[Framework]Flask vs Django"
date: 2021-05-24
categories: 
- web
tags: [Flask, Django]
---
## 개요
Python 기반의 웹 프레임워크로는 대표적으로 Django와 Flask가 존재한다. 타 언어들과는 다르게 프레임워크의 선택에 있어서 선택지가 두가지나 있다보니 프로젝트에 어떤 것을 사용할지 항상 고민이 되는 부분이 존재한다. 현 시점의 나는 학교 수업에서 진행 중인 팀프로젝트 두개와 개인적으로 리드하고 있는 사이드 프로젝트까지 세개의 프로젝트를 진행 중에 있으며 모두 파이썬 기반의 웹프레임워크를 사용하고 있다. 그 중 데이터베이스 설계 수업에서 진행 중인 프로젝트는 수업에서 제시한 Oracle 11g를 데이터베이스로 사용해야한다는 제한조건이 붙었는데 Django에서 Oracle 11g를 사용하기 위해서는 v1.1 이하에서만 지원을 하기 때문에 안정성이 낮을 것으로 판단하여 Flask를 사용하기로 결정했다. 그리고 캡스톤 디자인 수업에서는 타 팀원이 Django가 익숙하다고 하여 고민의 여지 없이 Django를 사용하고 있다.

이 글을 쓰게된 계기는 마지막으로 사이드 프로젝트를 진행함에 있어서 어떠한 웹 프레임워크를 사용하면 좋을지 고민에 빠지게 되었고, 이에 아무 이유 없이 하나를 선택하는 것이 아닌 타당한 이유를 가지고 프레임워크를 선택하는 것이 좋을 것 같다고 판단하여 남의 생각을 알아보고 내가 직접 두개를 사용하면서 느꼈던 점 정리하여 작성하기 위해서이다. 

## 왜 꼭 파이썬 기반의 프레임워크?
본격적으로 글을 시작하기 앞서 이런 생각이 들 수 있다. 

>"Flask나 Django를 비교해보고 선택하기 이전에 다른 언어 기반의 프레임워크들에 대한 고민이 이루어져야되는 것 아닌가?" 

충분히 타당한 생각이고 당연히 이러한 고민들이 선행되었고 충분한 고민 끝에 파이썬 기반의 프레임워크를 선택하게 되었다. 이글의 본질과는 다소 벗어날 수 있기 때문에 내가 프로젝트를 함에 있어 주로 파이썬 기반의 프레임워크를 사용하는 이유에 대해서는 기회가 되면 다른 글로 정리를 해보겠다.

## Flask vs Django
그렇다면 본론으로 돌아가 Flask와 Django는 어떤 점이 다른지에 대해서 알아보자. 시시한 결론부터 얘기하자면 둘 사이에는 그렇게 큰 차이가 존재하지 않는다. 심지어 같은 언어를 기반으로 하고있기 때문에 성능에서도 큰 차이가 없으며 사용하는 법이나 로직 자체도 거의 똑같기 때문에 둘 중 하나의 framework에 대한 경험이 있다면 다른 하나도 쉽게 배울 수 있다. 하지만 그럼에도 불구하고 둘의 차이를 생각해 볼 수 있는데 먼저 둘의 범주를 구분지을 수 있다.
- Django - full stack framework
- Flask - micro framework

이렇게 구분 짓고 있는 것은 내가 다른 블로그에서 인용한 것인데 이런 구분에 대해서는 내가 개인적으로 두 개의 프레임워크를 가볍게 사용해본 입장으로써 드는 생각은 이러하다. 정말 간단하게 얘기하자면 장고는 플라스크와 비교하여 이미 정형화된 요소가 많다. 비유를 하자면 장고는 배경이 이미 그려져 있는 그림에 내가 칠하고 싶은 색깔로 칠하는 것이라면 플라스크는 빈 공책에 내가 그림도 그리고 색깔도 채워야 하는 느낌이다. 실제로 flask는 27,000줄 정도 뿐이 되지 않는 가벼운 프레임워크인 것에 반해 Django는 이에 10배 정는 무거운 프레임워크이다. 

이렇게 놓고 보면 그림을 그리고 색칠하는 Flask 보다는 그림이 그려져있어 색칠만하면 되는 Django가 더 편해 보이고 안 쓸 이유가 없어 보인다. 실제로도 수 많은 포럼에서 파이썬 기반의 웹 프레임워크를 사용해 프로젝트를 시작하려고 하는 사람이 둘 중 무엇을 사용해야하는지 물어본다면 열에 아홉은 Django를 사용하라고 답하고 있다. 

## 그럼 너도 Django 사용하면 되겠네?
그렇지는 않다. Flask가 Django에 비해 확실히 해야될 것이 많은 것은 사실이나 이 것이 무조건 Django가 좋음을 반증하는 이유가 될 수는 없다. 내가 두 가지 프레임워크를 모두 사용하며 느꼈던 것은 둘의 쓰임새가 확실히 다르다는 것이다. 만약 react-native를 사용해본 사람이 있다면 개발시 `expo`를 사용해서 개발하느냐 사용하지 않고 개발하느냐에 차이 정도라고 생각하면 좋을 것 같다. 

>그렇다면 Flask를 사용했을 때 이점이 되는 상황은 어떤 상황이 있을까?

이미 정답은 위에 나와있는 차이를 통해 설명할 수 있다. `micro service`를 염두해두고 있다면 flask가 더 좋은 선택이 될 수 있다. Flask는 프로젝트마다 1개의 어플리케이션을 개발하도록 되어 있지만, Django는 한 프로젝트 내에 다양한 어플리케이션이 존재할 수 있다. 그렇기에 micro한 단위로 서비스를 나누어 개발한다고 했을 때에는 분명 Flask로 구성하는 것이 편한다. 그리고 실제로 Django와 Flask를 둘 다 처음 사용한다는 것을 가정한다면 Django에 그려져있는 그림을 이해하는 시간이 결코 Flask에서 스스로 그림을 그리는 시간에 비해 현저하게 짧다고 얘기할 수 없다. 이는 내가 실제로 Django를 처음 사용해 보면서 겉보기에는 다 되어있는 것 같아서 편해보였지만 막상 내 입맛대로 설계를 하려다보면 이미 그려진 부분을 수정해 나가는 데에 꾀나 많은 시간을 소요하여 이럴거면 그냥 Flask를 사용하는게 더 나았겠다는 생각까지 했다.

지금까지의 Flask와 Django의 차이를 정리하면 다음과 같다.
- 장고는 플라스크에 비해 많은 것이 되어있지만 그만큼 유연성을 어느정도는 포기해야한다.
- 플라스크는 장고에 비해 유연하다는 장점을 빼고는 바닥부터 모든 것을 개발해야한다는 점에서 많은 시간과 노력이 소요된다.
- (개인적인 생각) `진입 장벽 : 장고 > 플라스크`, `난이도 : 플라스크 > 장고`

## 사람들은 어떻게 둘을 사용하고 있을까?
### Django를 선호하는 경우
1. 웹앱이나, API 백앤드를 만들고 싶다.
2. 빠른 개발, 빠른 배포, 빠른 업데이트
3. CSRF, XSS, SQL 인젝션, 클릭재킹 등 기본적 보안 완비
4. 스케일링 업, 스케일링 다운을 자유자재로 할 수 있다.
5. 개발하다가 막혔을 때 물어볼 곳이 많다.
6. 데이터베이스에서 강력한 ORM이 존재한다.

### Django를 사용하는 서비스
- Pinterest Engineering
- Mozilla
- Bitbucket
- Udemy
- The Onion
- Disqus
- ...

### Flask를 선호하는 경우
1. 도저히 1개의 코드베이스에 담을 수 없을 만큼 앱이 크거나, 앱이 작을 경우
2. 밑 그림부터 시작할 수 있는 실력에 내가 뭘하고 있는지 알고있다면
3. 팀원 중 그 어느 누구라도 Django와 Python에 익숙치 않다면
4. DB로 이미 생성된 NoSQL을 사용하고 있다면

### Flask를 사용하는 서비스
- Pinterest
- Twilio
- Lyft
- Mozilla
- Netflix
- ...

## 최종 결정
그리하여 우리 팀이 최종으로 사용할 프레임워크는 `Flask`로 결정을 했다. 최종 결정을 하게된 이유는 다음과 같다.
- Flask를 사용하며 우리가 바닥부터 개발을 하며 사용하게 되는 모든 라이브러리들에 있어 합당한 이유를 생각해보며 개발을 진행할 수 있다. 또한 합당한 이유를 가지고 라이브러리들을 사용하거나 코딩을 하기 때문에 전반적인 백앤드 내에서의 로직들에 대한 이해도를 높일 수 있다.
- 우리는 MongoDB를 사용할 것이기 때문에 사실은 애초에 Django보다는 Flask가 더 적합하다.
- 우리는 시작은 Monolithic하게 개발할지라도 후에 MSA를 염두해 두고 있기 때문에 Micro Framework인 Flask를 사용한다.
- Flask를 완벽하게 숙지하고 사용할 줄 안다면 이후에 Django를 사용할 일이 생기더라도 빠르게 익힐 수 있을 것으로 기대한다.

## 참고 블로그
- https://dingrr.com/blog/post/%EC%96%B8%EC%A0%9C-django%EB%A5%BC-%EC%96%B8%EC%A0%9C-flask%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4%EC%95%BC-%ED%95%A0%EA%B9%8C
- https://www.imaginarycloud.com/blog/flask-vs-django/


